{
  "version": 3,
  "sources": ["../../../../../apps/expresso/expresso/public/js/expresso.js"],
  "sourcesContent": ["frappe.provide(\"expresso\");\n\n$(document).ready(function() {\n\n    frappe.db.get_doc('Settings', 'Settings').then((settings) => {\n        console.log(\"Settings:\", settings);\n        let allowed_docs = [];\n        settings.enabled_doctypes.map((doctype) => {\n            allowed_docs.push(doctype.name);\n        });\n\n        if (allowed_docs){\n            setup_form(allowed_docs);\n        }\n        return;\n    }).catch((error) => {\n        return;\n    });\n\n    function setup_form(doctypes) {\n        let frm_loaded = false;\n\n        for (let i = 0; i < doctypes.length; i++) {\n            const doctype = doctypes[i];\n\n            // Attach event listeners to the current DocType\n            frappe.ui.form.on(doctype, {\n                refresh(frm) {\n                    if (!frm_loaded) {\n                        frm_loaded = true;\n                    }\n                    console.log(`Form refreshed for ${doctype}`);\n                    // Add your refresh logic here\n                },\n                onload_post_render(frm) {\n                }\n            });\n\n            // Break out of the loop if the correct form is loaded\n            if (frm_loaded) {\n                break;\n            }\n        }\n    }\n});"],
  "mappings": ";;AAAA,SAAO,QAAQ,UAAU;AAEzB,IAAE,QAAQ,EAAE,MAAM,WAAW;AAEzB,WAAO,GAAG,QAAQ,YAAY,UAAU,EAAE,KAAK,CAAC,aAAa;AACzD,cAAQ,IAAI,aAAa,QAAQ;AACjC,UAAI,eAAe,CAAC;AACpB,eAAS,iBAAiB,IAAI,CAAC,YAAY;AACvC,qBAAa,KAAK,QAAQ,IAAI;AAAA,MAClC,CAAC;AAED,UAAI,cAAa;AACb,mBAAW,YAAY;AAAA,MAC3B;AACA;AAAA,IACJ,CAAC,EAAE,MAAM,CAAC,UAAU;AAChB;AAAA,IACJ,CAAC;AAED,aAAS,WAAW,UAAU;AAC1B,UAAI,aAAa;AAEjB,eAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,KAAK;AACtC,cAAM,UAAU,SAAS;AAGzB,eAAO,GAAG,KAAK,GAAG,SAAS;AAAA,UACvB,QAAQ,KAAK;AACT,gBAAI,CAAC,YAAY;AACb,2BAAa;AAAA,YACjB;AACA,oBAAQ,IAAI,sBAAsB,SAAS;AAAA,UAE/C;AAAA,UACA,mBAAmB,KAAK;AAAA,UACxB;AAAA,QACJ,CAAC;AAGD,YAAI,YAAY;AACZ;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ,CAAC;",
  "names": []
}
